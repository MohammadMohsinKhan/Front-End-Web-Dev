<!doctype html>
<html lang="en">
<head>
  <title>Case Converter</title>
  <div class="title">Case Converter</div>
  <style>
    html {
      background-color: aliceblue;
    }
    textarea {
      resize: none;
      border-color: red;
      width: 500px;
      height: 100px;
    }
    .title {
      color: black;
      font-weight: bold;
      text-align: left;
      font-size: large;
    }
    button {
      margin-top: 5px;
      margin-right: 8.5px;
      background-color: aquamarine;
      border-color: rgb(0, 0, 0);
    }
  </style>
</head>
<body>
  <div class="flex-container">
    <textarea id="myText"></textarea>
    <div class="function">
      <button id="upper-case">Upper Case</button>
      <button id="lower-case">Lower Case</button>
      <button id="proper-case">Proper Case</button>
      <button id="sentence-case">Sentence Case</button>
      <button id="save-text-file">Save as .txt</button>
    </div>
  </div>

  <script>
    document.getElementById("upper-case").addEventListener("click", function() {
        let text = document.getElementById("myText").value
        document.getElementById("myText").value = text.toUpperCase()
    })

    document.getElementById("lower-case").addEventListener("click", function() {
        let text = document.getElementById("myText").value
        document.getElementById("myText").value = text.toLowerCase()
    })

    document.getElementById("proper-case").addEventListener("click", function() {
        let words = document.getElementById("myText").value.split(" ")
        for (let i = 0; i < words.length; i++) {
          words[i] = words[i][0].toUpperCase() + words[i].slice(1);
        }
        document.getElementById("myText").value = words.join(" ")
    })

    document.getElementById("sentence-case").addEventListener("click", function() {
        let words = document.getElementById("myText").value.split(" ")
        for (let i = 0; i < words.length; i++) {
          if (i == 0) {
            words[i] = words[i][0].toUpperCase() + words[i].slice(1);
          } else if (words[i - 1].endsWith(".")){
            words[i] = words[i][0].toUpperCase() + words[i].slice(1);
          } else {
            words[i] = words[i].toLowerCase()
          }
        }
        document.getElementById("myText").value = words.join(" ")
    })

    document.getElementById("save-text-file").addEventListener("click", function() {
        let text = document.getElementById("myText").value
        var Link = document.createElement('a');
        Link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
        Link.setAttribute('download', "text");

        Link.style.display = 'none';
        document.body.appendChild(Link);

        Link.click();

        document.body.removeChild(Link);
    })
  </script>



</body>
</html>
